<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<script>
$(document).ready(function() {
    var $ingredient3 = $('#id_ingredient3').closest('span').hide();
	var $ingredient4 = $('#id_ingredient4').closest('span').hide();

    $('#id_ingredient2').change(function() {
            $ingredient3.show();
    });
    $('#id_ingredient3').change(function() {
            $ingredient4.show();
    });
});
</script>

<body class="container">

<h1 th:text="${title}">Default Title</h1>

<nav th:replace="fragments :: navigation"></nav>

<form method="post" style="max-width:600px;" id="add_ingredient_form" >
    <input type="hidden" name="ingredient3" id="ingredient3" value=""/>
    <input type="hidden" name="ingredient4" id="ingredient4" value=""/>
    <div class="form-group">
        <label th:for="name">Name</label>
        <input class="form-control" name="name"/>
        <br>
    <span>
        <label th:for="glassType">Glass</label>
        <select name="glassType">
            <option th:each="glassType : ${glassList}"
                    th:value = "${glassType}"
                    th:text = "${glassType}">
            </option>
        </select>
        <label th:for="mixType">Mixing Method</label>
        <select name="mixType">
            <option th:each="mixType : ${mixList}"
                    th:value = "${mixType}"
                    th:text = "${mixType}">
            </option>
        </select>
        <label th:for="chillType">Chill</label>
        <select name="chillType">
            <option th:each="chillType : ${chillList}"
                    th:value = "${chillType}"
                    th:text = "${chillType}">
            </option>
        </select>
    </span>
    </div>

    <div id="ingredients_wrapper">
    <span>
        <label th:for="measurement">Amount</label>
        <input class="measurementInput" name="measurement1"/>
        <label th:for="ingredient">Ingredient</label>
        <select  th:replace="fragments :: dropdown(name='ingredient1')"></select>
    </span>
    <br>
    <span>
        <label th:for="measurement">Amount</label>
        <input class="measurementInput" name="measurement2"/>
        <label th:for="ingredient">Ingredient</label>
        <select id="id_ingredient2" th:replace="fragments :: dropdown(name='ingredient2')"></select>
    </span>
    <br>
    </div>

    <span>
        <label th:for="measurement">Amount</label>
        <input class="measurementInput" name="measurement3"/>
        <label th:for="ingredient">Ingredient</label>
        <select id="id_ingredient3" th:replace="fragments :: dropdown(name='ingredient3')"></select>
    </span>
    <br>
    <span>
        <label th:for="measurement">Amount</label>
        <input class="measurementInput" name="measurement4"/>
        <label th:for="ingredient">Ingredient</label>
        <select id="id_ingredient4" th:replace="fragments :: dropdown(name='ingredient4')"></select>
    </span>
    <br>
    Ingredient not found? <a href="../ingredient/add" id="addIngredientLink">Add New Ingredient</a><br>
    <label th:for="instructions">Instructions</label>
    <input class="instructionsInput" name="instructions">
    <input type = "submit" value="Add Drink"/>
</form>


</body>

</html>